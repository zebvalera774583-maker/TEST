# План решения проблем

## Текущие проблемы

1. ❌ Форма "Оставить заявку" не работает - ошибка "Could not find the table 'public.contact_requests'"
2. ❌ Прокрутка фото по вертикали (wheel) не работает

## Анализ проблем

### Проблема 1: Форма контакта

**Причина:** Таблица `contact_requests` не существует в базе данных Supabase.

**Решение:**
- Это НЕ проблема кода, а проблема настройки базы данных
- Нужно выполнить SQL миграцию в Supabase (см. `CREATE_CONTACT_REQUESTS_TABLE.md`)
- ИЛИ проверить, что таблица создана в правильном проекте

**Проверка:**
1. Откройте Supabase Dashboard
2. Проверьте, что таблица `contact_requests` существует
3. Если нет - выполните SQL из `add_contact_requests_table.sql`

### Проблема 2: Прокрутка по вертикали

**Возможные причины:**
1. Обработчик `onWheel` не срабатывает
2. Конфликт с другими обработчиками событий
3. Неправильная логика определения направления

**Проверка:**
1. Откройте консоль браузера (F12)
2. Попробуйте прокрутить колесиком мыши в полноэкранном просмотре
3. Проверьте, есть ли ошибки в консоли
4. Проверьте, вызывается ли `handleWheel`

## План действий

### Вариант 1: Пошаговое исправление (рекомендуется)

#### Шаг 1: Исправить форму контакта (5 минут)
1. Выполнить SQL миграцию в Supabase
2. Проверить работу формы
3. Если работает - переходим к шагу 2

#### Шаг 2: Исправить прокрутку (15 минут)
1. Упростить обработчик wheel
2. Убрать конфликты с другими обработчиками
3. Протестировать на десктопе

#### Шаг 3: Тестирование
1. Проверить все функции
2. Убедиться, что ничего не сломалось

### Вариант 2: Откат к рабочей версии

Если текущий подход не работает, можно:
1. Найти последний коммит, где все работало
2. Откатиться к нему
3. Внести изменения по одной функции за раз

### Вариант 3: Создать тестовую ветку

1. Создать новую ветку `fix/contact-form-and-wheel`
2. Внести минимальные изменения
3. Протестировать каждое изменение отдельно
4. Если работает - смержить в main

## Рекомендации

### Для формы контакта:
- Это проблема БД, не кода
- Нужно просто создать таблицу в Supabase
- Код уже правильный

### Для прокрутки:
- Возможно, слишком сложная реализация
- Нужно упростить и протестировать отдельно
- Может быть конфликт с Pointer Events

## Что делать прямо сейчас

1. **Сначала исправить форму** (это проще):
   - Выполнить SQL в Supabase
   - Проверить работу
   
2. **Потом исправить прокрутку**:
   - Упростить обработчик wheel
   - Убрать зависимости от других обработчиков
   - Протестировать отдельно

3. **Если не работает**:
   - Создать тестовую ветку
   - Внести изменения по одному
   - Тестировать после каждого изменения

## Вопросы для диагностики

1. Форма контакта:
   - Выполнили ли SQL миграцию в Supabase?
   - В каком проекте Supabase вы работаете?
   - Правильно ли настроены переменные окружения?

2. Прокрутка:
   - На каком устройстве тестируете? (десктоп/мобильный)
   - Есть ли ошибки в консоли браузера?
   - Срабатывает ли обработчик wheel вообще?

