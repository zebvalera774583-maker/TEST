# Можно ли убрать SSR?

## Текущая ситуация:

Ваше приложение использует SSR только в:
1. **`app/layout.tsx`** - серверный компонент (генерирует метаданные)
2. **API routes** (`app/api/`) - серверный код (это не SSR, но требует Node.js)

## Почему поддержка Timeweb просит Dockerfile?

Не из-за SSR в layout (это стандартно), а из-за **API routes** - они требуют Node.js сервера. Timeweb рекомендует Dockerfile для приложений с API routes.

## Варианты решения:

### ✅ Вариант 1: Использовать Dockerfile (РЕКОМЕНДУЕТСЯ)

**Плюсы:**
- Всё уже готово (Dockerfile создан)
- Приложение будет работать корректно
- API routes будут работать
- Поддержка Timeweb это рекомендует

**Что нужно:**
- Создать новое приложение в Timeweb с типом "Dockerfile"
- Всё остальное уже настроено

### ⚠️ Вариант 2: Убрать SSR из layout (НЕ РЕКОМЕНДУЕТСЯ)

Технически можно сделать layout клиентским, но:
- ❌ Потеряете SEO (метаданные не будут генерироваться на сервере)
- ❌ Ухудшится производительность
- ❌ Это плохая практика для Next.js
- ❌ API routes всё равно требуют сервера

### ❌ Вариант 3: Убрать API routes (НЕВОЗМОЖНО)

API routes используются для:
- Аутентификации админа (`/api/admin/auth`)
- Загрузки фото (`/api/admin/photos`)
- Загрузки аватарки (`/api/admin/avatar`)
- Статистики (`/api/stats`)

Без них приложение не будет работать.

## Вывод:

**Не стоит убирать SSR** - это не решит проблему. 

API routes требуют Node.js сервера, и для них нужен Dockerfile. Это стандартная практика для Next.js приложений с API routes.

**Рекомендация:** Используйте Dockerfile (Вариант 1). Всё уже готово, просто нужно создать новое приложение в Timeweb.

