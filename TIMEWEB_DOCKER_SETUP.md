# Настройка Docker деплоя в Timeweb App Platform

## ⚠️ Важно!

В Timeweb App Platform **нельзя изменить тип деплоя для уже существующего приложения**. 

Нужно создать **новое приложение** с типом "Dockerfile".

## Шаг 1: Создание нового приложения

1. Войдите в панель Timeweb Cloud
2. Перейдите в раздел **"App Platform"** (или **"Приложения"**)
3. Нажмите кнопку **"Создать приложение"** (или **"Новое приложение"**)

## Шаг 2: Выбор типа деплоя

В форме создания приложения найдите раздел **"Тип"** или **"Тип деплоя"** и выберите вкладку **"Dockerfile"** (вместо "Next.js" или другого типа)

## Шаг 3: Подключение репозитория

1. Выберите источник: **GitHub**
2. Авторизуйтесь в GitHub (если нужно)
3. Выберите репозиторий: `zebvalera774583-maker/TEST`
4. Выберите ветку: `main`
5. **Важно:** Укажите путь к Dockerfile: `test/Dockerfile` (или просто `Dockerfile`, если Timeweb позволяет указать рабочую директорию)

## Шаг 4: Настройка переменных окружения

В разделе **"Переменные окружения"** добавьте те же переменные, что были в старом приложении:

```
NEXT_PUBLIC_SUPABASE_URL=ваш_supabase_url
NEXT_PUBLIC_SUPABASE_ANON_KEY=ваш_supabase_anon_key
SUPABASE_SERVICE_ROLE_KEY=ваш_service_role_key
ADMIN_PASSWORD=ваш_пароль_админа
NODE_ENV=production
```

## Шаг 5: Настройка домена

1. После создания приложения перейдите в настройки
2. В разделе **"Домены"** добавьте:
   - `ashot-zebelyan.ru`
   - `www.ashot-zebelyan.ru`
3. DNS записи должны быть уже настроены (они указывают на Timeweb)

## Шаг 6: Запуск деплоя

Нажмите **"Запустить деплой"** или **"Создать приложение"**

## После создания нового приложения

После того как новое приложение будет создано и успешно задеплоено:
- Старое приложение можно удалить (или оставить как резервную копию)
- Новое приложение будет работать через Dockerfile

## Альтернативный вариант

Если создание нового приложения неудобно, можно:
1. Обратиться в поддержку Timeweb и попросить переключить существующее приложение на Docker
2. Или оставить текущий деплой, если он работает (но поддержка рекомендовала Docker для SSR)

---

**Вопрос для уточнения:** Возможно, в интерфейсе Timeweb есть возможность "пересоздать" приложение или "изменить тип", но это нужно проверить в самой панели управления.

