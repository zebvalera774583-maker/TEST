# –ó–∞–º–µ–Ω–∞ Supabase –Ω–∞ —Ä–æ—Å—Å–∏–π—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å

## –ß—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∏–∑ Supabase:

1. **PostgreSQL –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:**
   - –¢–∞–±–ª–∏—Ü–∞ `site_photos` (—Ñ–æ—Ç–æ —Å –ø–æ–¥–ø–∏—Å—è–º–∏)
   - –¢–∞–±–ª–∏—Ü–∞ `site_stats` (—Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞, –∞–≤–∞—Ç–∞—Ä–∫–∞)
   - RLS (Row Level Security) –ø–æ–ª–∏—Ç–∏–∫–∏

2. **Storage (—Ö—Ä–∞–Ω–∏–ª–∏—â–µ —Ñ–∞–π–ª–æ–≤):**
   - –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–æ—Ç–æ –≤ bucket "Test"
   - –ó–∞–≥—Ä—É–∑–∫–∞ –∞–≤–∞—Ç–∞—Ä–∫–∏
   - –ü–æ–ª—É—á–µ–Ω–∏–µ –ø—É–±–ª–∏—á–Ω—ã—Ö URL

3. **API –∫–ª–∏–µ–Ω—Ç:**
   - `@supabase/supabase-js` –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ë–î –∏ Storage

---

## –†–æ—Å—Å–∏–π—Å–∫–∏–µ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã:

### ‚ùå –ü—Ä—è–º—ã—Ö –∞–Ω–∞–ª–æ–≥–æ–≤ Supabase –Ω–µ—Ç

–í –†–æ—Å—Å–∏–∏ –Ω–µ—Ç –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–≥–æ BaaS (Backend-as-a-Service) –∞–Ω–∞–ª–æ–≥–∞ Supabase, –∫–æ—Ç–æ—Ä—ã–π –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç:
- –ë–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
- Storage
- –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é
- Realtime
- –í –æ–¥–Ω–æ–º —Å–µ—Ä–≤–∏—Å–µ

### ‚úÖ –í–∞—Ä–∏–∞–Ω—Ç 1: PostgreSQL + Yandex Object Storage

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:** –£–ø—Ä–∞–≤–ª—è–µ–º–∞—è PostgreSQL –æ—Ç:
  - Yandex Cloud Managed PostgreSQL (~500-1000 ‚ÇΩ/–º–µ—Å)
  - Selectel Cloud Databases (~300-500 ‚ÇΩ/–º–µ—Å)
  - Timeweb Cloud Databases (~300-500 ‚ÇΩ/–º–µ—Å)
  
- **Storage:** Yandex Object Storage (~100-200 ‚ÇΩ/–º–µ—Å –∑–∞ 10 –ì–ë)

**–ü–ª—é—Å—ã:**
- ‚úÖ –ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å
- ‚úÖ –†–æ—Å—Å–∏–π—Å–∫–∏–µ —Å–µ—Ä–≤–∏—Å—ã
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –∏–∑ –†–æ—Å—Å–∏–∏

**–ú–∏–Ω—É—Å—ã:**
- ‚ùå –ù—É–∂–Ω–æ –ø–µ—Ä–µ–ø–∏—Å–∞—Ç—å –≤–µ—Å—å –∫–æ–¥ —Ä–∞–±–æ—Ç—ã —Å –ë–î
- ‚ùå –ù—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–π storage
- ‚ùå –ù—É–∂–Ω–æ –ø–µ—Ä–µ–ø–∏—Å–∞—Ç—å API routes
- ‚ùå –°–ª–æ–∂–Ω–∞—è –º–∏–≥—Ä–∞—Ü–∏—è (2-3 –¥–Ω—è —Ä–∞–±–æ—Ç—ã)

---

### ‚úÖ –í–∞—Ä–∏–∞–Ω—Ç 2: PostgreSQL –Ω–∞ —Ç–æ–º –∂–µ —Å–µ—Ä–≤–µ—Ä–µ + —Ñ–∞–π–ª–æ–≤–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:** PostgreSQL –Ω–∞ —Ç–æ–º –∂–µ VPS (Timeweb VPS)
- **Storage:** –§–∞–π–ª—ã –Ω–∞ –¥–∏—Å–∫–µ —Å–µ—Ä–≤–µ—Ä–∞ –∏–ª–∏ Nginx –¥–ª—è —Ä–∞–∑–¥–∞—á–∏

**–ü–ª—é—Å—ã:**
- ‚úÖ –î–µ—à–µ–≤–ª–µ (–≤—Ö–æ–¥–∏—Ç –≤ —Å—Ç–æ–∏–º–æ—Å—Ç—å VPS)
- ‚úÖ –í—Å—ë –Ω–∞ –æ–¥–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ
- ‚úÖ –ü—Ä–æ—â–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

**–ú–∏–Ω—É—Å—ã:**
- ‚ùå –ù—É–∂–Ω–æ –ø–µ—Ä–µ–ø–∏—Å–∞—Ç—å –≤–µ—Å—å –∫–æ–¥
- ‚ùå –ù—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å PostgreSQL –≤—Ä—É—á–Ω—É—é
- ‚ùå –ù—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –∑–∞–≥—Ä—É–∑–∫—É —Ñ–∞–π–ª–æ–≤
- ‚ùå –°–ª–æ–∂–Ω–∞—è –º–∏–≥—Ä–∞—Ü–∏—è (2-3 –¥–Ω—è —Ä–∞–±–æ—Ç—ã)

---

### ‚úÖ –í–∞—Ä–∏–∞–Ω—Ç 3: –û—Å—Ç–∞–≤–∏—Ç—å Supabase (–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø)

**–í–æ–ø—Ä–æ—Å:** –ê Supabase –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–∑ –†–æ—Å—Å–∏–∏?

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à —Å–∞–π—Ç –Ω–∞ Timeweb
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –ª–∏ —Ñ–æ—Ç–æ –∏–∑ Supabase Storage
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —Ä–∞–±–æ—Ç–∞—é—Ç –ª–∏ –∑–∞–ø—Ä–æ—Å—ã –∫ –ë–î

**–ï—Å–ª–∏ Supabase —Ä–∞–±–æ—Ç–∞–µ—Ç:**
- ‚úÖ –ó–∞—á–µ–º –º–µ–Ω—è—Ç—å? –í—Å—ë —É–∂–µ —Ä–∞–±–æ—Ç–∞–µ—Ç!
- ‚úÖ Supabase –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π –¥–ª—è –Ω–µ–±–æ–ª—å—à–∏—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤
- ‚úÖ –ú–∏–≥—Ä–∞—Ü–∏—è –∑–∞–π–º–µ—Ç 2-3 –¥–Ω—è –∏ –º–æ–∂–µ—Ç —Å–ª–æ–º–∞—Ç—å —á—Ç–æ-—Ç–æ

**–ï—Å–ª–∏ Supabase –ù–ï —Ä–∞–±–æ—Ç–∞–µ—Ç:**
- –¢–æ–≥–¥–∞ —Å—Ç–æ–∏—Ç —Ä–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é

---

## –°–ª–æ–∂–Ω–æ—Å—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏:

### –ß—Ç–æ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–ø–∏—Å–∞—Ç—å:

1. **`lib/supabase.ts`** - –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ–ø–∏—Å–∞—Ç—å
2. **`app/page.tsx`** - –≤—Å–µ –∑–∞–ø—Ä–æ—Å—ã –∫ –ë–î –∏ Storage
3. **`app/api/admin/photos/route.ts`** - –≤—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å —Ñ–æ—Ç–æ
4. **`app/api/admin/avatar/upload/route.ts`** - –∑–∞–≥—Ä—É–∑–∫–∞ –∞–≤–∞—Ç–∞—Ä–∫–∏
5. **`app/api/stats/increment/route.ts`** - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
6. **–í—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ API routes**

### –û—Ü–µ–Ω–∫–∞ –≤—Ä–µ–º–µ–Ω–∏:
- **–ú–∏–Ω–∏–º—É–º:** 2-3 –¥–Ω—è —Ä–∞–±–æ—Ç—ã
- **–†–µ–∞–ª—å–Ω–æ:** 3-5 –¥–Ω–µ–π —Å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º
- **–†–∏—Å–∫:** –ú–æ–∂–µ—Ç —á—Ç–æ-—Ç–æ —Å–ª–æ–º–∞—Ç—å—Å—è

---

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:

### ü•á –í–∞—Ä–∏–∞–Ω—Ç 1: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —Ä–∞–±–æ—Ç–∞–µ—Ç –ª–∏ Supabase

**–°–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ —Å–∞–π—Ç –Ω–∞ Timeweb
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∑–∞–≥—Ä—É–∑–∫—É —Ñ–æ—Ç–æ
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç—É –∞–¥–º–∏–Ω–∫–∏

**–ï—Å–ª–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç - –æ—Å—Ç–∞–≤—å—Ç–µ –∫–∞–∫ –µ—Å—Ç—å!**

### ü•à –í–∞—Ä–∏–∞–Ω—Ç 2: –ï—Å–ª–∏ Supabase –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

**–¢–æ–≥–¥–∞ —Ä–∞—Å—Å–º–æ—Ç—Ä–∏—Ç–µ:**
- **Yandex Cloud Managed PostgreSQL** + **Yandex Object Storage**
- –ò–ª–∏ **PostgreSQL –Ω–∞ VPS** + —Ñ–∞–π–ª–æ–≤–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ

**–ù–æ —ç—Ç–æ –±–æ–ª—å—à–∞—è —Ä–∞–±–æ—Ç–∞!**

---

## –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: Supabase –Ω–∞ —Ä–æ—Å—Å–∏–π—Å–∫–æ–º —Å–µ—Ä–≤–µ—Ä–µ

**–í–æ–ø—Ä–æ—Å:** –ú–æ–∂–Ω–æ –ª–∏ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å Supabase –Ω–∞ —Ä–æ—Å—Å–∏–π—Å–∫–æ–º —Å–µ—Ä–≤–µ—Ä–µ?

**–û—Ç–≤–µ—Ç:** –î–∞! Supabase - open source, –º–æ–∂–Ω–æ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ:
- –ù–∞ Yandex Cloud
- –ù–∞ Timeweb VPS
- –ù–∞ –ª—é–±–æ–º VPS

**–ù–æ —ç—Ç–æ –µ—â–µ —Å–ª–æ–∂–Ω–µ–µ:**
- –ù—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å PostgreSQL
- –ù—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å Storage
- –ù—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å Auth
- –ù—É–∂–Ω–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –≤—Å—ë —ç—Ç–æ

---

## –í—ã–≤–æ–¥:

**–°–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ - —Ä–∞–±–æ—Ç–∞–µ—Ç –ª–∏ Supabase —Å–µ–π—á–∞—Å?**

–ï—Å–ª–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç - **–Ω–µ –º–µ–Ω—è–π—Ç–µ**, —ç—Ç–æ —Å—ç–∫–æ–Ω–æ–º–∏—Ç –≤–∞–º 2-3 –¥–Ω—è —Ä–∞–±–æ—Ç—ã –∏ —Ä–∏—Å–∫–∏.

–ï—Å–ª–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç - —Ç–æ–≥–¥–∞ –º–æ–∂–Ω–æ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é, –Ω–æ —ç—Ç–æ –±–æ–ª—å—à–∞—è —Ä–∞–±–æ—Ç–∞.

---

**–ß—Ç–æ –≤—ã —Ö–æ—Ç–∏—Ç–µ —Å–¥–µ–ª–∞—Ç—å?**
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —Ä–∞–±–æ—Ç–∞–µ—Ç –ª–∏ Supabase —Å–µ–π—á–∞—Å?
2. –ò–ª–∏ —Å—Ä–∞–∑—É –Ω–∞—á–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é –Ω–∞ —Ä–æ—Å—Å–∏–π—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å?

